diff --exclude='*.xml' --exclude='*.o.d' --exclude=.project --exclude=.cproject -Naur spandsp-base-0.0.6/src/t30.c spandsp-0.0.6/src/t30.c
--- spandsp-base-0.0.6/src/t30.c	2014-04-03 17:46:14.415810467 +0100
+++ spandsp-0.0.6/src/t30.c	2014-04-03 17:49:09.272757000 +0100
@@ -5866,6 +5866,11 @@
         case T30_STATE_B:
             /* We have now allowed time for the last message to flush through
                the system, so it is safe to report the end of the call. */
+
+            /* If we have already have received the EOP ignore DCN retry and call dropped */
+            if (s->next_rx_step == T30_EOP && (s->current_status == T30_ERR_RETRYDCN || s->current_status == T30_ERR_CALLDROPPED))
+               s->current_status = T30_ERR_OK;
+
             if (s->phase_e_handler)
                 s->phase_e_handler(s, s->phase_e_user_data, s->current_status);
             set_state(s, T30_STATE_CALL_FINISHED);
